
## ржЖржЧрзЗ ржПржХ рж▓рж╛ржЗржирзЗрж░ ржзрж╛рж░ржгрж╛

ЁЯСЙ **Blocking**`(Synchronous)` ржорж╛ржирзЗ = _ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗ ржжрж╛ржБржбрж╝рж┐ржпрж╝рзЗ ржерж╛ржХрж╛_  
ЁЯСЙ **Non-blocking**`(Asynchronous)`  ржорж╛ржирзЗ = _ржЕржкрзЗржХрзНрж╖рж╛ ржирж╛ ржХрж░рзЗ ржирж┐ржЬрзЗрж░ ржХрж╛ржЬ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрж╛ржУржпрж╝рж╛_

---
## ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗрж░ ржЙржжрж╛рж╣рж░ржг ржжрж┐ржпрж╝рзЗ рж╢рзБрж░рзБ ржХрж░рж┐ (рж╕ржмржЪрзЗржпрж╝рзЗ рж╕рж╣ржЬ)

ржзрж░рзЛ рждрзБржорж┐ **ржмржирзНржзрзБржХрзЗ ржПржХржЯрж┐ ржкрж╛рж░рзНрж╕рзЗрж▓ ржкрж╛ржарж╛ржЪрзНржЫрзЛ** ЁЯУж  
ржЖрж░рзЗржХржЬржи ржмржирзНржзрзБ ржкрж╛рж░рзНрж╕рзЗрж▓ ржЧрзНрж░рж╣ржг ржХрж░ржЫрзЗред

---

# 1я╕ПтГг Blocking send (ржкрж╛ржарж╛ржирзЛрж░ рж╕ржоржпрж╝ ржЕржкрзЗржХрзНрж╖рж╛)

### ржХрзА рж╣ржпрж╝?

> ржкрж╛ржарж╛ржирзЛ process **ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗ ржжрж╛ржБржбрж╝рж┐ржпрж╝рзЗ ржерж╛ржХрзЗ**  
> ржпрждржХрзНрж╖ржг ржирж╛ ржкрж╛рж░рзНрж╕рзЗрж▓ржЯрж╛ ржХрзЗржЙ ржЧрзНрж░рж╣ржг ржХрж░рзЗ

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

рждрзБржорж┐ ржХрзБрж░рж┐ржпрж╝рж╛рж░рзЗ ржкрж╛рж░рзНрж╕рзЗрж▓ ржжрж┐рж▓рзЗ, ржХрж┐ржирзНрждрзБтАФ

ЁЯзН рждрзБржорж┐ ржХрж╛ржЙржирзНржЯрж╛рж░рзЗ ржжрж╛ржБржбрж╝рж┐ржпрж╝рзЗ ржЖржЫрзЛ  
тЭМ ржЪрж▓рзЗ ржпрж╛ржЪрзНржЫрзЛ ржирж╛  
тЬЕ ржпрждржХрзНрж╖ржг ржирж╛ ржХрзБрж░рж┐ржпрж╝рж╛рж░ ржмрж▓ржЫрзЗ:

> тАЬржкрж╛рж░рзНрж╕рзЗрж▓ ржкрзМржБржЫрзЗ ржЧрзЗржЫрзЗтАЭ

### OS ржнрж╛рж╖рж╛ржпрж╝:
```c
send(message);
(wait...)
```

ЁЯСЙ sender **block рж╣ржпрж╝рзЗ ржерж╛ржХрзЗ**

---

## ржХржЦржи ржжрж░ржХрж╛рж░?

- ржпржЦржи ржирж┐рж╢рзНржЪрж┐ржд рж╣рждрзЗ рж╣ржмрзЗ message рж╣рж╛рж░рж╛ржпрж╝ржирж┐
    
- synchronization ржжрж░ржХрж╛рж░
    

---

# 2я╕ПтГг Nonblocking send (ржкрж╛ржарж┐ржпрж╝рзЗ ржЪрж▓рзЗ ржпрж╛ржУ)

### ржХрзА рж╣ржпрж╝?

> message ржкрж╛ржарж╛ржирзЛ ржорж╛рждрзНрж░ржЗ sender ржирж┐ржЬрзЗрж░ ржХрж╛ржЬ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрж╛ржпрж╝

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

рждрзБржорж┐ ржкрзЛрж╕рзНржЯржмржХрзНрж╕рзЗ ржЪрж┐ржарж┐ ржлрзЗрж▓рж▓рзЗ ЁЯУо  
тЬФя╕П ржлрзЗрж▓рзЗржЗ ржЪрж▓рзЗ ржЧрзЗрж▓рзЗ  
тЭМ ржЖрж░ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рж▓рзЗ ржирж╛

### OS ржнрж╛рж╖рж╛ржпрж╝:
```c
send(message);
continue working;
```

ЁЯСЙ sender **block рж╣ржпрж╝ ржирж╛**

---

## ржХржЦржи ржжрж░ржХрж╛рж░?

- high performance system
    
- sender-ржПрж░ рж╕ржоржпрж╝ ржирж╖рзНржЯ ржирж╛ ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ
    

---

# 3я╕ПтГг Blocking receive (ржкрж╛ржУржпрж╝рж╛рж░ ржЬржирзНржп ржЕржкрзЗржХрзНрж╖рж╛)

### ржХрзА рж╣ржпрж╝?

> Receiver ржХрж┐ржЫрзБ ржирж╛ ржкрж╛ржУржпрж╝рж╛ ржкрж░рзНржпржирзНржд **ржжрж╛ржБржбрж╝рж┐ржпрж╝рзЗ ржерж╛ржХрзЗ**

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

рждрзБржорж┐ ржмрж╛рж╕рж╕рзНржЯржкрзЗ ржжрж╛ржБржбрж╝рж┐ржпрж╝рзЗ ржЖржЫрзЛ ЁЯЪМ  
ржмрж╛рж╕ ржирж╛ ржЖрж╕рж╛ ржкрж░рзНржпржирзНрждтАФ

- рж╣рж╛ржБржЯржЫрзЛ ржирж╛
    
- ржЕржирзНржп ржХрж╛ржЬ ржХрж░ржЫрзЛ ржирж╛
    
- рж╢рзБржзрзБ ржЕржкрзЗржХрзНрж╖рж╛
    

### OS ржнрж╛рж╖рж╛ржпрж╝:
```c
receive(message);
(wait...)
```

ЁЯСЙ receiver **block рж╣ржпрж╝рзЗ ржерж╛ржХрзЗ**

---

## ржХржЦржи ржжрж░ржХрж╛рж░?

- message ржЖрж╕ржмрзЗржЗ (guaranteed)
    
- sequence ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг
    

---

# 4я╕ПтГг Nonblocking receive (ржкрж╛ржУ ржмрж╛ ржирж╛ ржкрж╛ржУтАФржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЛ)

### ржХрзА рж╣ржпрж╝?

> Receiver ржЪрзЗржХ ржХрж░рзЗ:

- message ржерж╛ржХрж▓рзЗ тЖТ ржирзЗржпрж╝
    
- ржирж╛ ржерж╛ржХрж▓рзЗ тЖТ null ржкрж╛ржпрж╝
    

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

рждрзБржорж┐ ржЪрж┐ржарж┐рж░ ржмрж╛ржХрзНрж╕ ржЦрзБрж▓рзЗ ржжрзЗржЦрж▓рзЗ ЁЯУм

- ржЪрж┐ржарж┐ ржерж╛ржХрж▓рзЗ тЖТ ржирж┐рж▓рзЗ
    
- ржирж╛ ржерж╛ржХрж▓рзЗ тЖТ ржмржирзНржз ржХрж░рзЗ ржЪрж▓рзЗ ржЧрзЗрж▓рзЗ
    

### OS ржнрж╛рж╖рж╛ржпрж╝:
```c
msg = receive();
if (msg == null)
    continue working;
```

ЁЯСЙ receiver **ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗ ржирж╛**

---

## ржЪрж╛рж░ржЯрж╛ ржПржХрж╕рж╛ржерзЗ ржЯрзЗржмрж┐рж▓рзЗ ржжрзЗржЦрж┐

|Concept|ржХрзА ржХрж░рзЗ|ржмрж╛рж╕рзНрждржм ржнрж╛ржм|
|---|---|---|
|Blocking send|ржкрж╛ржарж┐ржпрж╝рзЗ ржжрж╛ржБржбрж╝рж┐ржпрж╝рзЗ ржерж╛ржХрзЗ|ржХрж╛ржЙржирзНржЯрж╛рж░рзЗ ржЕржкрзЗржХрзНрж╖рж╛|
|Nonblocking send|ржкрж╛ржарж┐ржпрж╝рзЗ ржЪрж▓рзЗ ржпрж╛ржпрж╝|ржкрзЛрж╕рзНржЯржмржХрзНрж╕|
|Blocking receive|ржирж╛ ржЖрж╕рж╛ ржкрж░рзНржпржирзНржд ржЕржкрзЗржХрзНрж╖рж╛|ржмрж╛рж╕рж╕рзНржЯржк|
|Nonblocking receive|ржЖржЫрзЗ ржХрж┐ржирж╛ ржжрзЗржЦрзЗ|ржЪрж┐ржарж┐рж░ ржмрж╛ржХрзНрж╕|

---

## ProducerтАУConsumer-ржП ржХрзЗржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг?

### Blocking send + Blocking receive

тЬФя╕П ржЦрзБржм рж╕рж╣ржЬ  
тЬФя╕П synchronization automatic  
тЭМ slow рж╣рждрзЗ ржкрж╛рж░рзЗ

### Nonblocking + Nonblocking

тЬФя╕П fast  
тЭМ bug / race condition рж╣рждрзЗ ржкрж╛рж░рзЗ

ЁЯСЙ рждрж╛ржЗ OS design-ржП **choice ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг**

---

## ржПржХржжржо ржПржХ рж▓рж╛ржЗржирзЗ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржХрзМрж╢рж▓ ЁЯза

- **Blocking** = тАЬржЖржорж┐ ржжрж╛ржБржбрж╝рж┐ржпрж╝рзЗ ржЖржЫрж┐тАЭ
    
- **Nonblocking** = тАЬржЖржорж┐ ржЖржорж╛рж░ ржХрж╛ржЬ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрж╛ржЪрзНржЫрж┐тАЭ

